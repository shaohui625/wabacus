<?xml version="1.0" encoding="UTF-8"?>
<applications xmlns="http://www.wabacus.com"
					xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
					xsi:schemaLocation="http://www.wabacus.com ../xsd/wabacus.applications.xsd">
    <local-resources>
    	<resources>
    		<resource key="navigate.count.info">
    			<![CDATA[
  					当前第#currentpage#页 共#totalpage#页	
  				]]>
    		</resource>
    		<resource key="invalid.isnotempty">
    				<![CDATA[
  				
  				]]>
    		</resource>
    		
    	</resources>
    </local-resources>
	<!--local-cssfiles>
      <css-file>/webresources/css/report_ch.css</css-file>
    </local-cssfiles-->
	<page id="formpartcoldetail11" js="/webresources/script/validate.js">
		<tabpanel id="tp1" titlestyle="2" titlewidth="120px" margin="10px">
			<report id="report1" parenttitle="XXX报表" title="request{employeename}报表" type="form" jsvalidatetype="1" dataexport="richexcel">
				<display valuetdwidth="200px" labeltdwidth="150px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
					<col column="no" label="工号"  valuestyleproperty="style='mso-number-format:\@'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="title" property="name" label="中文名"/>
					<col column="ename" label="英文名" />
					<col column="sex" label="性别" br="true">
						<inputbox type="radiobox">
							<option value="0" label="女"/> 
							<option value="1" label="男"/>
						</inputbox>
					</col>
					
					<col column="age" label="年龄">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty}),isNumeric({0}不是合法数字)"/>
					</col>
					<col column="marriage" label="婚否" >
						<inputbox type="selectbox">
							<option value="0" label="未婚"/> 
							<option value="1" label="已婚"/>
						</inputbox>
					</col>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" displaytype="hidden"/>
					<col column="deptname" label="所属部门" updatecol="@{deptno}" valuestyleproperty="colspan='1'" br="true">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option source="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					
					
	
					
					
					<col column="birthday" label="出生日期" datatype="date{yyyy-MM-dd}">
						<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty}),isDate({0}格式不对，必须为yyyy-MM-dd格式)"/>
					</col>
					<col column="joinindate" label="入职日期" datatype="date{MM/dd/yyyy}">
						<inputbox type="datepicker" dateformat="MM/dd/yyyy"/>
					</col>
					<col column="interest" label="兴趣爱好"  br="true" valuestyleproperty="colspan='3'">
						<inputbox type="selectbox" multiply="true" separator="," styleproperty="size='5'">
							<option label="篮球" value="篮球"/>
							<option label="足球" value="足球"/>
							<option label="排球" value="排球"/>
							<option label="游泳" value="游泳"/>
							<option label="看书" value="看书"/>
							<option label="唱歌" value="唱歌"/>
							<option label="旅游" value="旅游"/>
							<option label="跑步" value="跑步"/>
							<option label="健身" value="健身"/>
							<option label="爬山" value="爬山"/>
						</inputbox> 
					</col>
					<col column="province" label="省"></col>
					<col column="city" label="市"></col>
					<col column="county" label="县" br="true" valuestyleproperty="colspan='3'"></col>
					<col column="description" label="评价" datatype="clob" valuestyleproperty="colspan='7'">
						<inputbox type="textareabox" styleproperty="rows='5'"/>
					</col>
				</display>
				<sql  datasource="ds_mongo">
				  <select >
					<value>
						<![CDATA[
						
						@code{tabname ="taskInformation";}
						var queryMap = newQuery().toMap();
						findAsList(queryMap,tabname);	
						]]>
					</value>
				
				  </select>
				</sql>
				<format>
				  <imports>
						<import>com.wabacus.util</import>
				  </imports>
				  <value>
				  		rrequest.getRequest().setAttribute("employeename",name);//存放request，以便显示标题时能取到
						marriage=marriage==null?"":marriage.trim();
						if(marriage.equals("1")) marriage="已婚";
						else if(marriage.equals("0")) marriage="未婚";
				  		if(rrequest.getShowtype() != com.wabacus.util.Consts.DISPLAY_ON_PAGE)
				  		{
				  			sex=sex==null?"":sex.trim();
							if(sex.equals("0")) sex="女";
							else if(sex.equals("1")) sex="男";
				  		}
				  </value>
				</format>
				<footer></footer>
			</report>			
		</tabpanel>
	</page>	
</applications>