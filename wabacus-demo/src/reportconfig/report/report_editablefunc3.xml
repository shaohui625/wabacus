<?xml version="1.0" encoding="UTF-8"?>
<applications xmlns="http://www.wabacus.com"
					xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
					xsi:schemaLocation="http://www.wabacus.com ../xsd/wabacus.applications.xsd">
	<local-resources>
    	<resources>
    		<resource key="navigate.count.info">
    			<![CDATA[
  					当前第#currentpage#页 共#totalpage#页	
  				]]>
    		</resource>
    	</resources>
    </local-resources>
	<page id="clobpage1" js="/webresources/script/validate.js">
		<report id="report1" title="部门信息列表" type="editablelist2" dataexport="richexcel">
			<display>
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty({0}列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名" clickorderby="true"/>
				<col column="manager" label="部门经理">
					<inputbox type="passwordbox"/>
				</col>
				<col column="builtdate" label="创建日期" clickorderby="true" width="100px" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate({0}格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="description" label="简介" datatype="clob">
					<inputbox type="textareabox"/>
				</col>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT * FROM tbl_department where  {#condition#} order by deptno]]>
				</value>
				<condition name="txtdeptno" label="部门编号">
					<value>
						<![CDATA[(deptno like  '%#data#%' )]]>
					</value>
					<inputbox>
					  <typeprompt width="200" count="15">
						<promptcol label="deptno" matchmode="2"/>
						<datasource>select deptno from tbl_department where deptno like '%#data#%'</datasource>
					  </typeprompt>
					</inputbox>
				</condition>
			  </select>
			  <insert>
		  		 insert into tbl_department(guid=uuid{},@{deptno},@{deptname},@{manager},@{builtdate},@{description});
			  </insert>
			  <update>
			     update tbl_department(@{deptno},@{deptname},@{manager},@{builtdate},@{description}) where guid=@{guid};
			     update tbl_baseinfo(@{deptno}) where deptno=@{deptno};
			  </update>
			  <delete>
			  	 delete from tbl_department where deptno=@{deptno};
			  </delete>
			</sql>
		</report>
		<footer>${clobpage1.footer}</footer>
	</page>
	<page id="increasepage1" js="/webresources/script/validate.js">
		<report id="report1" title="招聘信息列表" type="editablelist2" dataexport="richexcel">
			<display>
				<col column="id" label="ID"/>
				<col column="zhiwei" label="招聘职位"/>
				<col column="salary" label="待遇" clickorderby="true"/>
				<col column="count" label="招聘数量"/>
				<col column="xueli" label="学历要求" >
					<inputbox type="selectbox" >
						<option label="无" value="无"/>
						<option label="专科以上" value="专科以上"/>
						<option label="本科以上" value="本科以上"/>
						<option label="硕士以上" value="硕士以上"/>
						<option label="博士" value="博士"/>
					</inputbox>
				</col>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT * FROM tbl_zhaoping  order by id]]>
				</value>
			  </select>
			  <insert>
		  		 insert into tbl_zhaoping(@{zhiwei},@{salary},@{count},@{xueli});
			  </insert>
			  <update>
			     update tbl_zhaoping(@{zhiwei},@{salary},@{count},@{xueli}) where id=@{id};
			  </update>
			  <delete>
			  	 delete from tbl_zhaoping where id=@{id};
			  </delete>
			</sql>
		</report>
		<footer>${increasepage1.footer}</footer>
	</page>
	<page id="uuidpage1" js="/webresources/script/validate.js">
		<report id="report1" title="部门信息列表" type="editablelist2" dataexport="richexcel">
			<display>
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty({0}列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名" clickorderby="true"/>
				<col column="manager" label="部门经理"/>
				<col column="builtdate" label="创建日期" clickorderby="true" width="100px" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate({0}格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="performance" label="表现" clickorderby="true" width="150px" filter="true" filterwidth="120px">
					<inputbox type="selectbox">
						<option value="优秀" label="优秀"/> 
						<option value="良好" label="良好" />
						<option value="较好" label="较好" />
						<option value="很差" label="很差" />
					</inputbox>
				</col>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT * FROM tbl_department where  {#condition#} order by deptno]]>
				</value>
				<condition name="txtdeptno" label="部门编号">
					<value>
						<![CDATA[(deptno like  '%#data#%' )]]>
					</value>
					<inputbox>
					  <typeprompt width="200" count="15">
						<promptcol label="deptno" matchmode="2"/>
						<datasource>select deptno from tbl_department where deptno like '%#data#%'</datasource>
					  </typeprompt>
					</inputbox>
				</condition>
			  </select>
			  <insert>
		  		 insert into tbl_department(guid=uuid{},@{deptno},@{deptname},@{manager},@{builtdate},@{performance});
			  </insert>
			  <update>
			     update tbl_department(@{deptno},@{deptname},@{manager},@{builtdate},@{performance}) where guid=@{guid};
			     update tbl_baseinfo(@{deptno}) where deptno=@{deptno};
			  </update>
			  <delete>
			  	 delete from tbl_department where deptno=@{deptno};
			  </delete>
			</sql>
			<format>
				<value>
				<![CDATA[
					this.deptno="<a href=\"#\" onclick=\"ymPrompt.win('uuid："+guid+"',300,100,'普通弹窗测试')\">"+deptno+"</a>";
				]]>
				</value>
			</format>
		</report>
		<footer>${uuidpage1.footer}</footer>
	</page>
	<page id="uuidpage2" js="/webresources/script/validate.js">
		<report id="report1" title="部门信息列表" type="editablelist2" dataexport="richexcel">
			<display>
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty({0}列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名" clickorderby="true"/>
				<col column="manager" label="部门经理"/>
				<col column="builtdate" label="创建日期" clickorderby="true" width="100px" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate({0}格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="pingjia" label="评价">
					<inputbox type="selectbox">
						<option label="很好" value="很好"/>
						<option label="较好" value="较好"/>
						<option label="较差" value="较差"/>
						<option label="很差" value="很差"/>
					</inputbox>
				</col>
				<col column="description" label="简介" datatype="clob">
					<inputbox type="textareabox"/>
				</col>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT A.guid,deptno,deptname,manager,builtdate,pingjia,description FROM tbl_department A left join tbl_dept_pingjia B on A.guid=B.guid where  {#condition#} order by deptno]]>
				</value>
				<condition name="txtdeptno" label="部门编号">
					<value>
						<![CDATA[(deptno like  '%#data#%' )]]>
					</value>
					<inputbox>
					  <typeprompt width="200" count="15">
						<promptcol label="deptno" matchmode="2"/>
						<datasource>select deptno from tbl_department where deptno like '%#data#%'</datasource>
					  </typeprompt>
					</inputbox>
				</condition>
			  </select>
			  <insert>
			  	 <external-values>
			  	 	<value name="myguid" value="uuid{}"/>
			  	 </external-values>
			  	 <value>
		  		 	insert into tbl_department(guid=#{myguid},@{deptno},@{deptname},@{manager},@{builtdate},@{description});
		  		 	insert into tbl_dept_pingjia(guid=#{myguid},@{pingjia});
		  		 </value>
			  </insert>
			  <update>
			     update tbl_department(@{deptno},@{deptname},@{manager},@{builtdate},@{description}) where guid=@{guid};
			     update tbl_dept_pingjia(@{pingjia}) where guid=@{guid};
			     update tbl_baseinfo(@{deptno}) where deptno=@{deptno};
			  </update>
			  <delete>
			  	 delete from tbl_department where deptno=@{deptno};
			  	 delete from tbl_dept_pingjia where guid=@{guid};
			  </delete>
			</sql>
			<format>
				<value>
				<![CDATA[
					this.deptno="<a href=\"#\" onclick=\"ymPrompt.win('uuid："+guid+"',300,100,'普通弹窗测试')\">"+deptno+"</a>";
				]]>
				</value>
			</format>
		</report>
		<footer>${uuidpage2.footer}</footer>
	</page>
	<page id="sequencecolpage1" js="/webresources/script/validate.js">
		<report id="report1" title="招聘信息列表" type="editablelist2" dataexport="richexcel">
			<display>
				<col column="id" label="ID"/>
				<col column="zhiwei" label="招聘职位"/>
				<col column="salary" label="待遇" clickorderby="true"/>
				<col column="count" label="招聘数量"/>
				<col column="xueli" label="学历" >
					<inputbox type="selectbox" >
						<option label="无" value="无"/>
						<option label="专科以上" value="专科以上"/>
						<option label="本科以上" value="本科以上"/>
						<option label="硕士以上" value="硕士以上"/>
						<option label="博士" value="博士"/>
					</inputbox>
				</col>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT * FROM tbl_zhaoping where  {#condition#} order by id]]>
				</value>
			  </select>
			  <insert>
		  		 insert into tbl_zhaoping(id=sequence{seq_zhaoping},@{zhiwei},@{salary},@{count},@{xueli});
			  </insert>
			  <update>
			     update tbl_zhaoping(@{zhiwei},@{salary},@{count},@{xueli}) where id=@{id};
			  </update>
			  <delete>
			  	 delete from tbl_zhaoping where id=@{id};
			  </delete>
			</sql>
		</report>
		<footer>${sequencecolpage1.footer}</footer>
	</page>
	<page id="sequencecolpage2" js="/webresources/script/validate.js">
		<report id="report1" title="招聘信息列表" type="editablelist2" dataexport="richexcel">
			<display>
				<col column="id" label="ID"/>
				<col column="zhiwei" label="招聘职位"/>
				<col column="salary" label="待遇" clickorderby="true"/>
				<col column="count" label="招聘数量"/>
				<col column="xueli" label="学历" >
					<inputbox type="selectbox" >
						<option label="无" value="无"/>
						<option label="专科以上" value="专科以上"/>
						<option label="本科以上" value="本科以上"/>
						<option label="硕士以上" value="硕士以上"/>
						<option label="博士" value="博士"/>
					</inputbox>
				</col>
				<col column="yaoqiu" label="要求" >
					<inputbox type="textareabox"/>
				</col>
				<col column="description" label="职位描述">
					<inputbox type="textareabox"/>
				</col>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT A.id,zhiwei,salary,count,xueli,yaoqiu,description FROM tbl_zhaoping A left join tbl_zhaopingdesc B on A.id=B.id  where {#condition#}  order by id]]>
				</value>
			  </select>
			  <insert>
			  	 <external-values>
			  		<value name="id" value="sequence{seq_zhaoping}"/>
			  	 </external-values>
		  		 <value>
		  		 	insert into tbl_zhaoping(id=#{id},@{zhiwei},@{salary},@{count},@{xueli});
		  		 	insert into tbl_zhaopingdesc(id=#{id},@{yaoqiu},@{description});
		  		 </value>
			  </insert>
			  <update>
			     update tbl_zhaoping(@{zhiwei},@{salary},@{count},@{xueli}) where id=@{id};
			     update tbl_zhaopingdesc(@{yaoqiu},@{description}) where id=@{id};
			  </update>
			  <delete>
			  	  delete from tbl_zhaoping where id=@{id};
			  	  delete from tbl_zhaopingdesc where id=@{id};
			  </delete>
			</sql>
		</report>
		<footer>${sequencecolpage2.footer}</footer>
	</page>
	
	<page id="saveinterceptorreportpage1" js="/webresources/script/validate.js">
	  <tabpanel id="tab1" titlestyle="2" margin="10">
		 <report id="report1" title="部门信息列表" parenttitle="直接配置拦截器方式" type="editablelist2" dataexport="richexcel">
		 	<interceptor>
			<imports>
  				<import>java.util.*</import>
  			</imports>
			<beforesave>
				<![CDATA[
			 	List lstInsertData=rrequest.getLstInsertedData(rbean);//添加的记录集合
        	 	List lstInsertExternalVals=rrequest.getLstInsertedExternalValues(rbean);//因为此报表为<insert/>配置了<external-values/>
        	 	List lstUpdateData=rrequest.getLstUpdatedData(rbean);//修改的记录集合
        	 	List lstDeleteData=rrequest.getLstDeletedData(rbean);//删除的记录集合
        	 	if(lstInsertData!=null&&lstInsertData.size()>0||lstUpdateData!=null&&lstUpdateData.size()>0
                	||lstDeleteData!=null&&lstDeleteData.size()>0)
        	 	{
            		System.out.println("--------------拦截器类型：直接配置----------保存前置动作-------------------");
        		}
        	 	Map mData;
        	 	if(lstInsertData!=null&&lstInsertData.size()>0)
        	 	{//当前在做添加数据的保存操作
        	 		Map mExternalvalues;
        	 		for(int i=0;i<lstInsertData.size();i++)
					{
						mData=(Map)lstInsertData.get(i);
						mExternalvalues=lstInsertExternalVals.get(i);
						if(mData==null) continue;
						System.out.println("第"+(i+1)+"条添加的记录：");
						Iterator itKeys=mData.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mData.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
                		System.out.println("此条记录对应的<external-values/>定义的变量值：");
                		itKeys=mExternalvalues.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mExternalvalues.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
				}
        	
				if(lstUpdateData!=null&&lstUpdateData.size()>0)
				{
					Map mData;
					for(int i=0;i<lstUpdateData.size();i++)
					{
						mData=(Map)lstUpdateData.get(i);
						if(mData==null) continue;
						System.out.println("第"+(i+1)+"条修改的记录：");
						Iterator itKeys=mData.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mData.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
				}
			
				if(lstDeleteData!=null&&lstDeleteData.size()>0)
				{
					Map mData;
					for(int i=0;i<lstDeleteData.size();i++)
					{
						mData=(Map)lstDeleteData.get(i);
						if(mData==null) continue;
						System.out.println("第"+(i+1)+"条删除的记录：");
						Iterator itKeys=mData.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mData.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
				}
				return WX_CONTINUE;
				]]>
			  </beforesave>
			  <aftersave>
				<![CDATA[
			 	List lstInsertData=rrequest.getLstInsertedData(rbean);//添加的记录集合
        	 	List lstInsertExternalVals=rrequest.getLstInsertedExternalValues(rbean);//因为此报表为<insert/>配置了<external-values/>
        	 	List lstUpdateData=rrequest.getLstUpdatedData(rbean);//修改的记录集合
        	 	List lstDeleteData=rrequest.getLstDeletedData(rbean);//删除的记录集合
        	 	if(lstInsertData!=null&&lstInsertData.size()>0||lstUpdateData!=null&&lstUpdateData.size()>0
                	||lstDeleteData!=null&&lstDeleteData.size()>0)
        	 	{
            		System.out.println("--------------拦截器类型：直接配置----------保存后置动作-------------------");
        		}
        	 	Map mData;
        	 	if(lstInsertData!=null&&lstInsertData.size()>0)
        	 	{//当前在做添加数据的保存操作
        	 		Map mExternalvalues;
        	 		for(int i=0;i<lstInsertData.size();i++)
					{
						mData=(Map)lstInsertData.get(i);
						mExternalvalues=lstInsertExternalVals.get(i);
						if(mData==null) continue;
						System.out.println("第"+(i+1)+"条添加的记录：");
						Iterator itKeys=mData.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mData.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
                		System.out.println("此条记录对应的<external-values/>定义的变量值：");
                		itKeys=mExternalvalues.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mExternalvalues.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
				}
        	
				if(lstUpdateData!=null&&lstUpdateData.size()>0)
				{
					Map mData;
					for(int i=0;i<lstUpdateData.size();i++)
					{
						mData=(Map)lstUpdateData.get(i);
						if(mData==null) continue;
						System.out.println("第"+(i+1)+"条修改的记录：");
						Iterator itKeys=mData.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mData.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
				}
			
				if(lstDeleteData!=null&&lstDeleteData.size()>0)
				{
					Map mData;
					for(int i=0;i<lstDeleteData.size();i++)
					{
						mData=(Map)lstDeleteData.get(i);
						if(mData==null) continue;
						System.out.println("第"+(i+1)+"条删除的记录：");
						Iterator itKeys=mData.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mData.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
				}
				]]>
			  </aftersave>
			</interceptor>
			<display>
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty({0}列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名" clickorderby="true"/>
				<col column="manager" label="部门经理"/>
				<col column="builtdate" label="创建日期" clickorderby="true" width="100px" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate({0}格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="pingjia" label="评价">
					<inputbox type="selectbox">
						<option label="很好" value="很好"/>
						<option label="较好" value="较好"/>
						<option label="较差" value="较差"/>
						<option label="很差" value="很差"/>
					</inputbox>
				</col>
				<col column="description" label="简介" datatype="clob">
					<inputbox type="textareabox"/>
				</col>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT A.guid,deptno,deptname,manager,builtdate,pingjia,description FROM tbl_department A left join tbl_dept_pingjia B on A.guid=B.guid where  {#condition#} order by deptno]]>
				</value>
				<condition name="txtdeptno" label="部门编号">
					<value>
						<![CDATA[(deptno like  '%#data#%' )]]>
					</value>
					<inputbox>
					  <typeprompt width="200" count="15">
						<promptcol label="deptno" matchmode="2"/>
						<datasource>select deptno from tbl_department where deptno like '%#data#%'</datasource>
					  </typeprompt>
					</inputbox>
				</condition>
			  </select>
			  <insert>
			  	 <external-values>
			  	 	<value name="myguid" value="uuid{}"/>
			  	 </external-values>
			  	 <value>
		  		 	insert into tbl_department(guid=#{myguid},@{deptno},@{deptname},@{manager},@{builtdate},@{description});
		  		 	insert into tbl_dept_pingjia(guid=#{myguid},@{pingjia});
		  		 </value>
			  </insert>
			  <update>
			     update tbl_department(@{deptno},@{deptname},@{manager},@{builtdate},@{description}) where guid=@{guid};
			     update tbl_dept_pingjia(@{pingjia}) where guid=@{guid};
			     update tbl_baseinfo(@{deptno}) where deptno=@{deptno};
			  </update>
			  <delete>
			  	 delete from tbl_department where deptno=@{deptno};
			  	 delete from tbl_dept_pingjia where guid=@{guid};
			  </delete>
			</sql>
			<format>
				<value>
				<![CDATA[
					this.deptno="<a href=\"#\" onclick=\"ymPrompt.win('uuid："+guid+"',300,100,'普通弹窗测试')\">"+deptno+"</a>";
				]]>
				</value>
			</format>
			<footer>
			  <![CDATA[<br/><font color='#0000FF'>这种方式直接将拦截器方法配置在报表配置文件中</font>]]>
			</footer>
		 </report>
		 <report id="report2" parenttitle="开发拦截器类方式" extends="saveinterceptorreportpage1.report1"
				interceptor="com.wabacusdemo.Interceptor_saveinterceptorreport">
		 	<footer>
			  <![CDATA[<br/><font color='#0000FF'>这种拦截方式是通过开发一拦截器类实现</font>]]>
			</footer>
		 </report>
		 <report id="report3" parenttitle="引用拦截器资源项方式" extends="saveinterceptorreportpage1.report1"
				interceptor="${Interceptor_saveinterceptorreport}">
			<footer>
			  <![CDATA[<br/><font color='#0000FF'>这种拦截方式是通过引用资源文件中定义的拦截器资源项实现</font>]]>
			</footer>		
		 </report>
	  </tabpanel>
	  <footer>
	  	<![CDATA[<br/><font color='#ff0000'>说明：</font><font color='#0000FF'>这两个拦截方法在保存本报表所有记录前和后调用，用户在增、删、改数据后请查看控制台上拦截器方法打印的保存数据</font>]]>
	  </footer>
	</page>
	
	<page id="saveinterceptorperrowpage1" js="/webresources/script/validate.js">
	  <tabpanel id="tab1" titlestyle="2" margin="10">
		 <report id="report1" title="部门信息列表" parenttitle="直接配置拦截器方式" extends="saveinterceptorreportpage1.report1">
		 	<interceptor>
				<imports>
	  				<import>java.util.*</import>
	  			</imports>
				<beforesave-perrow>
				<![CDATA[
					String message="";
					if(updatetype==WX_INSERT)
					{//对本条记录做添加操作
						message="正在添加记录：";
					}else	if(updatetype==WX_UPDATE)
					{//对本条记录做修改操作
						message="正在修改记录：";
					}else if(updatetype==WX_DELETE)
					{//对本条记录做删除操作
						message="正在删除记录：";
					}
					if(message!=null)
					{
						System.out.print(message);
						if(mRowData!=null)//mRowData中存放了本条记录各列的值
						{
							Iterator itKeys=mRowData.keySet().iterator();
							while(itKeys.hasNext())
							{
								String key=(String)itKeys.next();
								String value=(String)mRowData.get(key);
								System.out.print("["+key+"="+value+"]");
							}
							System.out.println();
						}
						if(mExternalValues!=null)//存放了相对于本条记录的在<insert/>或<update/>或<delete/>中定义的变量值
						{
							System.out.print("各变量的值为：");
							Iterator itKeys=mExternalValues.keySet().iterator();
							while(itKeys.hasNext())
							{
								String key=(String)itKeys.next();
								String value=(String)mExternalValues.get(key);
								System.out.print("["+key+"="+value+"]");
							}
							System.out.println();
						}
					}
					return WX_CONTINUE;
				]]>
				</beforesave-perrow>
				<aftersave-perrow>
				<![CDATA[
					String message="";
					if(updatetype==WX_INSERT)
					{//对本条记录做添加操作
						message="添加完记录：";
					}else	if(updatetype==WX_UPDATE)
					{//对本条记录做修改操作
						message="修改完记录：";
					}else if(updatetype==WX_DELETE)
					{//对本条记录做删除操作
						message="删除完记录：";
					}
					if(message!=null)
					{
						System.out.print(message);
						if(mRowData!=null)//mRowData中存放了本条记录各列的值
						{
							Iterator itKeys=mRowData.keySet().iterator();
							while(itKeys.hasNext())
							{
								String key=(String)itKeys.next();
								String value=(String)mRowData.get(key);
								System.out.print("["+key+"="+value+"]");
							}
							System.out.println();
						}
						if(mExternalValues!=null)//存放了相对于本条记录的在<insert/>或<update/>或<delete/>中定义的变量值
						{
							System.out.print("各变量的值为：");
							Iterator itKeys=mExternalValues.keySet().iterator();
							while(itKeys.hasNext())
							{
								String key=(String)itKeys.next();
								String value=(String)mExternalValues.get(key);
								System.out.print("["+key+"="+value+"]");
							}
							System.out.println();
						}
					}
				 	return WX_CONTINUE;
				]]>
				</aftersave-perrow>
			</interceptor>
		 </report>
		 <report id="report2" parenttitle="开发拦截器类方式" extends="saveinterceptorreportpage1.report2"
				interceptor="com.wabacusdemo.Interceptor_saveinterceptorperrowpage1"/>
		 <report id="report3" parenttitle="引用拦截器资源项方式" extends="saveinterceptorreportpage1.report3"
				interceptor="${Interceptor_saveinterceptorperrowpage1}"/>
	  </tabpanel>
	  <footer>
	  <![CDATA[
	  	<br/><font color='#ff0000'>说明：</font><font color='#0000FF'>这两个拦截方法在保存每条记录前和后调用，用户在增、删、改数据后请查看控制台上拦截器方法打印的保存数据</font>
	  ]]>
	  </footer>
	</page>
	
	<page id="saveinterceptorpersqlpage1" js="/webresources/script/validate.js">
	  <tabpanel id="tab1" titlestyle="2" margin="10">
		 <report id="report1" title="部门信息列表" parenttitle="直接配置拦截器方式" extends="saveinterceptorreportpage1.report1">
		 	<interceptor>
				<imports>
	  				<import>java.util.*</import>
	  			</imports>
				<beforesave-persql>
				<![CDATA[
					System.out.print("正在执行sql语句："+sql+"，保存的记录为：");
					if(mRowData!=null)//mRowData中存放了本条记录各列的值
					{
						Iterator itKeys=mRowData.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mRowData.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
					if(mExternalValues!=null)//存放了相对于本条记录的在<insert/>或<update/>或<delete/>中定义的变量值
					{
						System.out.print("各变量的值为：");
						Iterator itKeys=mExternalValues.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mExternalValues.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
					return WX_CONTINUE;
				]]>
				</beforesave-persql>
				<aftersave-persql>
				<![CDATA[
					System.out.print("已经执行完sql语句："+sql+"，保存的记录为：");
					if(mRowData!=null)//mRowData中存放了本条记录各列的值
					{
						Iterator itKeys=mRowData.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mRowData.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
					if(mExternalValues!=null)//存放了相对于本条记录的在<insert/>或<update/>或<delete/>中定义的变量值
					{
						System.out.print("各变量的值为：");
						Iterator itKeys=mExternalValues.keySet().iterator();
						while(itKeys.hasNext())
						{
							String key=(String)itKeys.next();
							String value=(String)mExternalValues.get(key);
							System.out.print("["+key+"="+value+"]");
						}
						System.out.println();
					}
				 	return WX_CONTINUE;
				]]>
				</aftersave-persql>
			</interceptor>
		 </report>
		 <report id="report2" parenttitle="开发拦截器类方式" extends="saveinterceptorreportpage1.report2"
				interceptor="com.wabacusdemo.Interceptor_saveinterceptorpersqlpage1"/>
		 <report id="report3" parenttitle="引用拦截器资源项方式" extends="saveinterceptorreportpage1.report3"
				interceptor="${Interceptor_saveinterceptorpersqlpage1}"/>
	  </tabpanel>
	  <footer>
	  <![CDATA[
	  	<br/><font color='#ff0000'>说明：</font><font color='#0000FF'>这两个拦截方法在保存每条记录时，执行每个保存数据的SQL语句的前和后调用，用户在增、删、改数据后请查看控制台上拦截器方法打印的保存数据</font>
	  ]]>
	  </footer>
	</page>
	
	<page id="editableAccessmodeListPage1" js="/webresources/script/validate.js" css="/wabacusdemo/css/demoreport.css">
		<report id="report1" extends="editablelistreportpage1.report1">
			<buttons>
				<button name="button1" label="默认访问模式（可编辑）" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableAccessmodeListPage1'
				</button>
				<button name="button2" label="只读访问模式" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableAccessmodeListPage1&amp;report1_ACCESSMODE=readonly'
				</button>
			</buttons>
		</report>
    </page>
    <page id="editableAccessmodeDetailPage1" js="/webresources/script/validate.js" css="/wabacusdemo/css/demoreport.css">
		<report id="report1" extends="editabledetailpage1.report1">
			<buttons>
				<button name="button1" label="默认访问模式（可编辑）" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableAccessmodeDetailPage1'
				</button>
				<button name="button2" label="只读访问模式" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableAccessmodeDetailPage1&amp;report1_ACCESSMODE=readonly'
				</button>
			</buttons>
		</report>
    </page>
    <page id="editableAccessmodeDetailPage2" js="/webresources/script/validate.js" css="/wabacusdemo/css/demoreport.css">
		<report id="report1" extends="editabledetailpage1.report2">
			<buttons>
				<button name="button1" label="默认访问模式（可编辑）" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableAccessmodeDetailPage2'
				</button>
				<button name="button2" label="只读访问模式" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableAccessmodeDetailPage2&amp;report1_ACCESSMODE=readonly'
				</button>
			</buttons>
		</report>
    </page>
    
    <page id="editableFormatListPage1" js="/webresources/script/validate.js" css="/wabacusdemo/css/demoreport.css">
		<report id="report1" extends="editmultitablepage1.report1">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@' width='15%'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true" width="15%"/>
				<group label="基本信息">
					<col column="sex" label="性别">
						<inputbox type="radiobox">
							<option value="0" label="女"/> 
							<option value="1" label="男"/>
						</inputbox>
					</col>
					<col column="age" label="年龄" clickorderby="true" width="100px" filter="true" filterwidth="120px">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty}),isNumeric({0}不是合法数字)"/>
					</col>
					<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
						<inputbox type="datepicker"  language="en" jsvalidate="isNotEmpty(${invalid.isnotempty}),isDate({0}格式不对，必须为yyyy-MM-dd格式)"/>
					</col>
				</group>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox">
						<option source="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox">
							<option source="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province">
							<option source="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city">
							<option source="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
			</display>
			<format>
			  <value>
			    <![CDATA[
			  	  String accessmode=rrequest.getCurrentAccessMode(rbean.getId()); 
				  if(accessmode.equals("readonly"))
				  {//如果是只读模式，则进行如下格式化
				  	no="<a href=\"#\" onclick=\"alert('"+no+"')\">"+no+"</a>";
				  }
				  sex=sex==null?"1":sex.trim();
				  if(sex.equals("0")) sex="女";
				  else if(sex.equals("1")) sex="男";
				]]>
			  </value>
			</format>
			<buttons>
				<button name="button1" label="默认访问模式（可编辑）" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableFormatListPage1'
				</button>
				<button name="button2" label="只读访问模式" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableFormatListPage1&amp;report1_ACCESSMODE=readonly'
				</button>
			</buttons>
		</report>
		<footer>${editableFormatListPage1.footer}</footer>
    </page>
    
    <page id="editableFormatDetailPage1"
    	  js="/webresources/script/validate.js" css="/wabacusdemo/css/demoreport.css">
		<report id="report1" extends="editabledetailpage1.report1">
			<display valuetdwidth="100px" labeltdwidth="71px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty({0}列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名"/>
				<col column="manager" label="部门经理" br="true"/>
				<col column="builtdate" label="创建日期" valuestyleproperty="colspan='2'" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate({0}格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="performance" label="表现" valuestyleproperty="colspan='2'" br="true">
					<inputbox type="selectbox">
						<option value="优秀" label="优秀"/> 
						<option value="良好" label="良好" />
						<option value="较好" label="较好" />
						<option value="很差" label="很差" />
					</inputbox>
				</col>
				<col column="description" label="简介" datatype="clob" valuestyleproperty="colspan='5'">
					<inputbox type="textareabox"/>
				</col>
			</display>
			<format>
			  <value>
			    <![CDATA[
			  	  String accessmode=rrequest.getCurrentAccessMode(rbean.getId()); 
				  if(accessmode.equals("readonly"))
				  {//如果是只读模式，则进行如下格式化
				  	deptno="<a href=\"#\" onclick=\"alert('"+deptno+"')\">"+deptno+"</a>";
				  }else
				  {//默认访问模式
				  	manager="<a href=\"#\" onclick=\"alert('"+manager+"')\">"+manager+"</a>";
				  }
				]]>
			  </value>
			</format>
			<buttons>
				<button name="button1" label="默认访问模式（可编辑）" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableFormatDetailPage1'
				</button>
				<button name="button2" label="只读访问模式" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableFormatDetailPage1&amp;report1_ACCESSMODE=readonly'
				</button>
			</buttons>
		</report>
		<footer>${editableFormatDetailPage1.footer}</footer>
    </page>
    
    <page id="editableFormatDetailPage2" js="/webresources/script/validate.js" css="/wabacusdemo/css/demoreport.css">
		<report id="report1" extends="editabledetailpage1.report2">
			<display valuetdwidth="100px" labeltdwidth="71px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty({0}列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名"/>
				<col column="manager" label="部门经理" br="true"/>
				<col column="builtdate" label="创建日期" valuestyleproperty="colspan='2'" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate({0}格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="performance" label="表现" valuestyleproperty="colspan='2'" br="true">
					<inputbox type="selectbox">
						<option value="优秀" label="优秀"/> 
						<option value="良好" label="良好" />
						<option value="较好" label="较好" />
						<option value="很差" label="很差" />
					</inputbox>
				</col>
				<col column="description" label="简介" datatype="clob" valuestyleproperty="colspan='5'">
					<inputbox type="textareabox" styleproperty="rows='5'"/>
				</col>
			</display>
			<format>
			  <value>
			    <![CDATA[
			  	  String accessmode=rrequest.getCurrentAccessMode(rbean.getId()); 
				  if(accessmode.equals("readonly"))
				  {//如果是只读模式，则进行如下格式化
				  	deptno="<a href=\"#\" onclick=\"alert('"+deptno+"')\">"+deptno+"</a>";
				  }else if(accessmode.equals("add"))
				  {//如果是添加记录模式，给部门编号赋上默认值111111
				  		deptno="111111";
				  }else if(accessmode.equals("update"))
				  {//如果是修改记录模式，不做任何格式化
				  		
				  }
				]]>
			  </value>
			</format>
			<buttons>
				<button name="button1" label="默认访问模式（可编辑）" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableFormatDetailPage2'
				</button>
				<button name="button2" label="只读访问模式" position="title|searchbox">
					window.location.href='/WabacusDemo/ShowReport.wx?PAGEID=editableFormatDetailPage2&amp;report1_ACCESSMODE=readonly'
				</button>
			</buttons>
		</report>
		<footer>${editableFormatDetailPage2.footer}</footer>
    </page>
    
    <page id="editableInvokeServerAction_autopage1" js="/wabacusdemo/js/demo.js,/webresources/script/validate.js">
    	<tabpanel id="tp1" margin="10px">
    		<vpanel id="vp1" parenttitle="可编辑报表">
				<report id="report1" extends="editablelistreportpage1.report1" rowselect="checkbox">
					<buttons>
						<button name="button1" position="title" label="传入选中行数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report1','com.wabacusdemo.TestServerCallBack1',true,{name:'SELECTEDROW',value:true},testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
						<button name="button2" position="title" label="传入非选中行数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report1','com.wabacusdemo.TestServerCallBack1',true,{name:'SELECTEDROW',value:false},testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
						<button name="button3" position="title" label="传入所有行数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report1','com.wabacusdemo.TestServerCallBack1',true,null,testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
					</buttons>
				</report>
				<report id="report2" extends="editabledetailpage1.report1" top="10px">
					<buttons>
						<button name="button1" position="title" label="自动传入报表数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report2','com.wabacusdemo.TestServerCallBack1',true,null,testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
					</buttons>
				</report>
				<report id="report3" extends="editabledetailpage1.report2" top="10px">
					<buttons>
						<button name="button1" position="title" label="自动传入报表数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report3','com.wabacusdemo.TestServerCallBack1',true,null,testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
					</buttons>
				</report>
			</vpanel>
			<vpanel id="vp2" parenttitle="只读报表一">
				<report id="report4" extends="editablelistreportpage1.report1" rowselect="checkbox">
					<interceptor>
			    		<preaction>
			    			rrequest.setAttribute("report4_ACCESSMODE","readonly");
			    		</preaction>
			    	</interceptor>
					<buttons>
						<button name="button1" position="title" label="传入选中行数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report4','com.wabacusdemo.TestServerCallBack1',true,{name:'SELECTEDROW',value:true},testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
						<button name="button2" position="title" label="传入非选中行数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report4','com.wabacusdemo.TestServerCallBack1',true,{name:'SELECTEDROW',value:false},testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
						<button name="button3" position="title" label="传入所有行数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report4','com.wabacusdemo.TestServerCallBack1',true,null,testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
					</buttons>
				</report>
				<report id="report5" extends="editabledetailpage1.report1" top="10px">
					<interceptor>
			    		<preaction>
			    			rrequest.setAttribute("report5_ACCESSMODE","readonly");
			    		</preaction>
			    	</interceptor>
					<buttons>
						<button name="button1" position="title" label="自动传入报表数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report5','com.wabacusdemo.TestServerCallBack1',true,null,testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
					</buttons>
				</report>
				<report id="report6" extends="editabledetailpage1.report2" top="10px">
					<interceptor>
			    		<preaction>
			    			rrequest.setAttribute("report6_ACCESSMODE","readonly");
			    		</preaction>
			    	</interceptor>
					<buttons>
						<button name="button1" position="title" label="自动传入报表数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report6','com.wabacusdemo.TestServerCallBack1',true,null,testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
					</buttons>
				</report>
			</vpanel>
			<vpanel id="vp3" parenttitle="只读报表二">
				<report id="report7" extends="editablelistreportpage1.report1" rowselect="checkbox">
					<sql>
						<value>
							<![CDATA[SELECT * FROM tbl_department where  {#condition#} order by deptno]]>
						</value>
						<condition name="txtdeptno" label="部门编号">
							<value>
								<![CDATA[(deptno like  '%#data#%' )]]>
							</value>
							<inputbox>
							  <typeprompt width="200" count="15">
								<promptcol label="deptno" matchmode="2"/>
								<datasource>select deptno from tbl_department where deptno like '%#data#%'</datasource>
							  </typeprompt>
							</inputbox>
						</condition>
				   </sql>
					<buttons>
						<button name="button1" position="title" label="传入选中行数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report7','com.wabacusdemo.TestServerCallBack1',true,{name:'SELECTEDROW',value:true},testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
						<button name="button2" position="title" label="传入非选中行数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report7','com.wabacusdemo.TestServerCallBack1',true,{name:'SELECTEDROW',value:false},testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
						<button name="button3" position="title" label="传入所有行数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report7','com.wabacusdemo.TestServerCallBack1',true,null,testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
					</buttons>
				</report>
				<report id="report8" extends="editabledetailpage1.report1" top="10px">
					<sql>
						<value>
							<![CDATA[SELECT * FROM tbl_department where  {#condition#}]]>
						</value>
						<condition name="txtdeptno" label="部门编号">
							<value>
								<![CDATA[(deptno like '%#data#%' )]]>
							</value>
							<inputbox>
								 <typeprompt count="15">
								<promptcol label="deptno" matchmode="2"/>
								<datasource>select deptno from tbl_department where deptno like '%#data#%'</datasource>
							  </typeprompt>
							</inputbox>
						</condition>
					</sql>
					<buttons>
						<button name="button1" position="title" label="自动传入报表数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report8','com.wabacusdemo.TestServerCallBack1',true,null,testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
					</buttons>
				</report>
				<report id="report9" extends="editabledetailpage1.report2" top="10px">
					<sql>
						<value>
							<![CDATA[SELECT * FROM tbl_department where  {#condition#}]]>
						</value>
						<condition name="txtdeptno" label="部门编号">
							<value>
								<![CDATA[(deptno like '%#data#%' )]]>
							</value>
							<inputbox>
								 <typeprompt count="15">
								<promptcol label="deptno" matchmode="2"/>
								<datasource>select deptno from tbl_department where deptno like '%#data#%'</datasource>
							  </typeprompt>
							</inputbox>
						</condition>
					</sql>
					<buttons>
						<button name="button1" position="title" label="自动传入报表数据的调用">
							invokeServerActionForReportData('editableInvokeServerAction_autopage1','report9','com.wabacusdemo.TestServerCallBack1',true,null,testBeforeInokeCallBackMethod1,testInvokeCallbackMethod1);
						</button>
					</buttons>
				</report>
			</vpanel>
		</tabpanel>
		<footer>
			<![CDATA[
			<br><br><font color='red'>说明：</font>
			<font color='blue'>两种只读报表分别通过不同的方式实现，“只读报表一”是通过在拦截器中将访问模式设置为readonly，“只读报表二”是通过不为可编辑报表类型配置更新标签＜update/＞、＜delete/＞和＜insert/＞，这样它就自动退化为只读报表，
			这两种只读报表的实现方式都能在调用服务器端操作时自动从页面上取报表数据传到服务器端</font>
			]]>
		</footer>
	</page>
	<!-- 注意：更新下面的报表的性别时，上面报表数据没有更新，是因为当在下面的报表的初始化方法更新数据时，上面的报表已经在初始化方法中加载完数据了 -->
	<page id="editableInvokeServerAction_autodbpage1" js="/webresources/script/validate.js,/wabacusdemo/js/demo.js">
	  	<tabpanel id="tp1" titlestyle="2" margin="10px">
	  		<vpanel id="vp1" parenttitle="可编辑报表">
				<report id="report1" extends="popupsinglepage1.report1" rowselect="checkbox">
					<buttons>
						<button name="button1" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置选中记录性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage11" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no_old};
							]]>
						</button>
						<button name="button2" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置非选中记录性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage11" conditions="{name:'SELECTEDROW',value:false}" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no_old};
							]]>
						</button>
						<button name="button3" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置所有记录性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage11" conditions="" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no_old};
							]]>
						</button>
					</buttons>
					<footer/>
				</report>
				<report id="report2" extends="popupsinglepage1.report2">
					<buttons>
						<button name="button1" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage11" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no_old};
							]]>
						</button>
						<button name="button2" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘女’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage11" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=0) where no=@{no_old};
							]]>
						</button>
					</buttons>
					<footer/>
				</report>
				<report id="report3" extends="popupsinglepage1.report3">
					<buttons>
						<button name="button1" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage11" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no_old};
							]]>
						</button>
						<button name="button2" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘女’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage11" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=0) where no=@{no_old};
							]]>
						</button>
					</buttons>
					<footer/>
				</report>
			</vpanel>
			<vpanel id="vp2" parenttitle="只读报表一">
				<report id="report4" extends="popupsinglepage1.report1" rowselect="checkbox">
					<interceptor>
			    		<preaction>
			    			rrequest.setAttribute("report4_ACCESSMODE","readonly");
			    		</preaction>
			    	</interceptor>
					<buttons>
						<button name="button1" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置选中记录性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage12" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
						<button name="button2" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置非选中记录性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage12" conditions="{name:'SELECTEDROW',value:false}" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
						<button name="button3" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置所有记录性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage12" conditions="" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
					</buttons>
					<footer/>
				</report>
				<report id="report5" extends="popupsinglepage1.report2">
					<interceptor>
			    		<preaction>
			    			rrequest.setAttribute("report5_ACCESSMODE","readonly");
			    		</preaction>
			    	</interceptor>
					<buttons>
						<button name="button1" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage12" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
						<button name="button2" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘女’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage12" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=0) where no=@{no};
							]]>
						</button>
					</buttons>
					<footer/>
				</report>
				<report id="report6" extends="popupsinglepage1.report3">
					<interceptor>
			    		<preaction>
			    			rrequest.setAttribute("report6_ACCESSMODE","readonly");
			    		</preaction>
			    	</interceptor>
					<buttons>
						<button name="button1" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage12" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
						<button name="button2" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘女’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage12" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=0) where no=@{no};
							]]>
						</button>
					</buttons>
					<footer/>
				</report>
			</vpanel>
			<vpanel id="vp3" parenttitle="只读报表二">
				<report id="report7" extends="popupsinglepage1.report1" rowselect="checkbox">
					<sql>
						<value>
							<![CDATA[SELECT A.no,name,sex,age,birthday,salary,A.deptno,deptname,province,city,county,interest FROM tbl_baseinfo A left join tbl_department B on A.deptno=B.deptno left join tbl_detailinfo C on A.no=C.no where   {#condition#} order by no]]>
						</value>
						<condition name="txtgonghao" label="工号">
							<value>
								<![CDATA[(A.no like  '%#data#%' )]]>
							</value>
						</condition>
						<condition name="txtname" label="姓名">
							<value>
								<![CDATA[(name like  '%#data#%' )]]>
							</value>
						</condition>
					</sql>
					<buttons>
						<button name="button1" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置选中记录性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage13" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
						<button name="button2" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置非选中记录性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage13" conditions="{name:'SELECTEDROW',value:false}" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
						<button name="button3" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置所有记录性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage13" conditions="" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
					</buttons>
					<footer/>
				</report>
				<report id="report8" extends="popupsinglepage1.report2">
					<sql>
						<value>
							<![CDATA[SELECT A.no,name,ename,sex,age,marriage,salary,A.deptno,deptname,birthday,joinindate,interest,province,city,county,B.description FROM tbl_baseinfo A left join tbl_detailinfo B  on A.no=B.no left join tbl_department C on A.deptno=C.deptno where   {#condition#}]]>
						</value>
						<condition name="txtgonghao" label="工号">
							<value>
								<![CDATA[(A.no like '%#data#%')]]>
							</value>
						</condition>
					</sql>
					<buttons>
						<button name="button1" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage13" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
						<button name="button2" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘女’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage13" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=0) where no=@{no};
							]]>
						</button>
					</buttons>
					<footer/>
				</report>
				<report id="report9" extends="popupsinglepage1.report3">
					<sql>
					  <select>
						<value>
							<![CDATA[SELECT A.no,name,ename,sex,age,marriage,salary,A.deptno,deptname,birthday,joinindate,interest,province,city,county,B.description FROM tbl_baseinfo A left join tbl_detailinfo B  on A.no=B.no left join tbl_department C on A.deptno=C.deptno where   {#condition#}]]>
						</value>
						<condition name="txtgonghao" hidden="true">
							<value>
								<![CDATA[(A.no like '%#data#%')]]>
							</value>
						</condition>
					  </select>
					</sql>
					<buttons>
						<button name="button1" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘男’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage13" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=1) where no=@{no};
							]]>
						</button>
						<button name="button2" class="com.wabacus.system.buttons.ServerSQLActionButton" position="title"
							label="设置性别为‘女’" beforecallbackmethod="testBeforeInokeCallBackMethod1" aftercallbackmethod="testInvokeCallbackMethod_autodbpage13" successprompt="设置成功" failedprompt="设置失败">
							<![CDATA[
								update tbl_baseinfo(sex=0) where no=@{no};
							]]>
						</button>
					</buttons>
					<footer/>
				</report>
			</vpanel>
	  	</tabpanel>
	</page>
</applications>